## Put your data args here

root_path: ${oc.env:PROJECT_ROOT}/data
preprocess_workers: 0
atom_tokens: None 
edge_tokens: None
charge_tokens: None
atom_type_distribution: None
edge_type_distribution: None
n_atoms_distribution: None

n_atoms_strategy: "fixed"
cat_strategy: "uniform-sample" #"mask" # "uniform-sample"

# Preprocessing configuration - computes tokens from data and distributions from training dataset only
preprocessing:
  _target_: chemflow.dataset.preprocessing.Preprocessing
  root: ${data.root_path}/qm9
  atom_tokens_path: ${data.preprocessing.root}/processed/atom_tokens.txt
  edge_tokens_path: ${data.preprocessing.root}/processed/edge_tokens.txt
  charge_tokens_path: ${data.preprocessing.root}/processed/charge_tokens.txt
  distributions_path: ${data.preprocessing.root}/processed/distributions.pt
  # Tokens and distributions will be discovered from data and saved to files
  # On subsequent runs, they will be loaded from the files

datamodule:
  _target_: chemflow.dataset.lightning_datamodule.LightningDataModule
  n_atoms_strategy: ${data.n_atoms_strategy}
  # tokens and distributions will be passed from preprocessing in run.py

  datasets:
    train:
      _target_: chemflow.dataset.qm9.FlowMatchingQM9Dataset
      root: ${data.root_path}/qm9
      atom_tokens: ${data.atom_tokens}
      charge_tokens: ${data.charge_tokens}
      

    val:
      - _target_: chemflow.dataset.qm9.FlowMatchingQM9Dataset
        root: ${data.root_path}/qm9
        atom_tokens: ${data.atom_tokens}
        charge_tokens: ${data.charge_tokens}

    test:
      - _target_: chemflow.dataset.qm9.FlowMatchingQM9Dataset
        root: ${data.root_path}/qm9
        atom_tokens: ${data.atom_tokens}
        charge_tokens: ${data.charge_tokens}

  num_workers:
    train: 4
    val: 4
    test: 4
    predict: 4

  batch_size:
    train: 64
    val: 64
    test: 64
  