## Put your data args here

root_path: ${oc.env:PROJECT_ROOT}/data
preprocess_workers: 0
tokens: None 
atom_type_distribution: None
edge_type_distribution: None
n_atoms_distribution: None
n_atoms_strategy: "fixed"
cat_strategy: "uniform-sample"

# Preprocessing configuration - computes tokens from data and distributions from training dataset only
preprocessing:
  _target_: chemflow.dataset.preprocessing.Preprocessing
  root: ${data.root_path}/qm9
  tokens_path: ${data.root_path}/qm9/processed/tokens.txt
  distributions_path: ${data.root_path}/qm9/processed/distributions.pt
  # Tokens and distributions will be discovered from data and saved to files
  # On subsequent runs, they will be loaded from the files

datamodule:
  _target_: chemflow.dataset.lightning_datamodule.LightningDataModule
  n_atoms_strategy: ${data.n_atoms_strategy}
  # tokens and distributions will be passed from preprocessing in run.py

  datasets:
    train:
      _target_: chemflow.dataset.qm9.FlowMatchingQM9Dataset
      root: ${data.root_path}/qm9
      tokens: ${data.tokens}
      

    val:
      - _target_: chemflow.dataset.qm9.FlowMatchingQM9Dataset
        root: ${data.root_path}/qm9_testing
        tokens: ${data.tokens}

    test:
      - _target_: chemflow.dataset.qm9.FlowMatchingQM9Dataset
        root: ${data.root_path}/qm9_testing
        tokens: ${data.tokens}

  num_workers:
    train: 4
    val: 4
    test: 4
    predict: 4

  batch_size:
    train: 256
    val: 256
    test: 256
  
  typed_gmm: ${model.module.typed_gmm}